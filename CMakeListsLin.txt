# Minimum CMake version required
cmake_minimum_required(VERSION 3.16)

# Project details
project(MeniscusDistortion VERSION 1.0 LANGUAGES CXX)

# Set C++ standard
set(CMAKE_CXX_STANDARD 17)

# Configure Output Directories
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)

# List your source files, including RPi-specific files
set(SOURCE_FILES
    Ellipse/Ellipse.cpp
    Ellipse/Ellipse.h
    main.cpp
    main.h
)

# Find OpenCV on RPi
set(OPEN_CV_BUILD "/usr/local") # Adjust path for RPi
find_package(OpenCV REQUIRED PATHS OPEN_CV_BUILD)

# Link OpenCV Libraries
add_executable(${PROJECT_NAME} ${SOURCE_FILES})
target_link_libraries(${PROJECT_NAME} ${OpenCV_LIBS})
